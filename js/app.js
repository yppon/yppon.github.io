function initRadioToggle(e,t,a){$(':radio[name="'+e+'"]').change(function(){$(':radio[name="'+e+'"]:checked').val()==t?$(a).addClass("toggle-area--active"):$(a).removeClass("toggle-area--active")})}function switchModalContent(e,t){$("#"+e).removeClass("hide"),$("#"+t).addClass("hide")}function setDatePicker(e){e.datepicker({autoclose:!0,language:"ja",minViewMode:0,format:"yyyy-mm-dd"}),e.datepicker("show")}function classes(e){function t(e,i){i.children?i.children.forEach(function(e){t(i.name,e)}):a.push({packageName:e,className:i.name,value:i.size})}var a=[];return t(null,e),{children:a}}function switchModalContent(e,t){$("#"+e).removeClass("hide"),$("#"+t).addClass("hide")}function Main(){$(".is-session")[0]&&($(".tutorial-target")[0]?($(".tutorial-target").eq(0).addClass("tutorial-target-type1").attr("data-intro","経歴を詳しく記入してレジュメを充実させよう！右上の「編集」から編集が可能です。").attr("data-step","1"),$("new_post_btn").attr("data-step","2")):$("new_post_btn").attr("data-step","1"),introJs().start())}function nextModal(e,t,a){$("#"+t).addClass("motivation-modal--active"),$("#"+e).removeClass("motivation-modal--active"),$.cookie("enthusiasm",a)}function backModal(){$(".motivation-modal--active").removeClass("motivation-modal--active"),$("#motivation-modal1").addClass("motivation-modal--active"),$.removeCookie("enthusiasm")}function isOtherCheckbox(){$("#other-text").val(""),$("#other-text").hasClass("other-text--active")?$("#other-text").removeClass("other-text--active"):$("#other-text").addClass("other-text--active")}if($("#amb-agreement").change(function(){$(this).is(":checked")?$(".ambassador-register-btn").removeClass("disabled").removeAttr("disabled","disabled"):$(".ambassador-register-btn").addClass("disabled").attr("disabled","disabled")}),$(".ambassador-admin")[0]&&($("span#ambassador-required-info-modal-trigger")[0]&&$("#modal-ambassador-required-info").openModal(),$("#url-copy-button").click(function(){new Clipboard("#url-copy-button"),$(this).html('<i class="material-icons">done</i> コピーしました！')}),$(".ambassador-info a.edit-info").click(function(){$(this).closest(".display-area").addClass("hide"),$(this).closest(".display-area").next(".edit-area").removeClass("hide")}),$("a.cancel-edit").click(function(){$(this).closest(".edit-area").addClass("hide"),$(this).closest(".edit-area").prev(".display-area").removeClass("hide")}),$("button.transfer-request-btn").click(function(){var e=$("button.transfer-request-btn").data("amount");return confirm(e+"円の振込申請を確定してよろしいですか？")})),$(".button-collapse").sideNav({edge:"right"}),function(e){e(document).ready(function(){e("select").material_select()})}(jQuery),$(".slider").slider(),$(".ympicker").datepicker({autoclose:!0,language:"ja",minViewMode:1,format:"yyyy-mm"}),$(".tooltipped")[0]&&$(document).on("click touchend",function(e){$.contains($(".tooltipped")[0],e.target)?$(".material-tooltip").show():$(".material-tooltip").hide()}),$("form").on("submit",function(){if("GET"!=$(this).attr("method")){var e=$(this).find(".btn");$.each(e,function(){"submit"==$(this).attr("type")&&void 0==$(this).attr("name")&&$(this).attr("disabled","disabled").text("送信中...")})}}),$(document).ready(function(){$(".modal-trigger:not(.allow-auto-scroll-to-top)")[0]&&$("body").addClass("modal-open"),$(".modal-trigger").leanModal({opacity:.8})}),$(".close-alert").click(function(){$(this).closest(".alert").hide()}),$("#apply-complete-modals")[0]&&($("#apply-complete-modals")[0]&&$("#apply-complete-modals").openModal({dismissible:!1,opacity:.8}),$(function(){initRadioToggle("factor","others","#tgt-others")}),$(':radio[name="factor"]').change(function(){"others"!=$(this).val()&&$(':text[name="other_reason"]').val("")}),$(".submit-form-btn").click(function(){$("form.questionnaire-after-application").submit()})),$(".container-fluid.apply-intern")[0]&&($("a.fb-login-btn-on-apply-form").click(function(){$(this).parent("form").submit()}),$(".collapsible-header").hasClass("active")&&$(".login-form-toggle").text("閉じる"),$(".collapsible-header").click(function(){$(this).hasClass("active")?$(".login-form-toggle").text("ログインフォームを開く"):$(".login-form-toggle").text("閉じる")}),$(function(){var e=$("#school.private_secretary");e[0]&&""!=e.val()&&(e.val().match(/^[ぁ-んァ-ヶー一-龠]+$/)||alert("大学名は必ず日本語で入力し直してください（海外の大学の場合は除く）。"))}),$("#agreement").change(function(){$(this).is(":checked")?$(".apply-internship-btn").removeAttr("disabled"):$(".apply-internship-btn").attr("disabled","disabled")})),$(".container.certificate-career, .container.certificate-career-mobile")[0]&&$(function(){$('input[name="reason"]').change(function(){"others"==$("input[name='reason']:checked").val()?$("input#other-reason").prop("disabled",!1):$("input#other-reason").prop("disabled",!0)}).trigger("change")}),$(".company-ambassador-container")[0]){var slider=$(".company-ambassador-slider");slider.slick({autoplay:!0,speed:800,slidesToShow:1,fade:!0,cssEase:"linear",slidesToScroll:1,dots:!1,infinite:!0,prevArrow:!1,nextArrow:!1}),slider.on("beforeChange",function(e,t,a){var i=$(".company-ambassador-animation-nav");0===a?i.css("background","#0078D7"):1===a&&i.css("background","#49b134")})}if($(function(){$(".external-link-click").click(function(){var e=$(this).data("id"),t=$(this).attr("href");return $.ajax({type:"POST",url:"/summer-intern-2016/external-link-click",dataType:"text",data:{short_intern_id:e},async:!1,success:function(){window.open(t,"_blank")},error:function(){alert("通信エラーです。もう一度お試しください。")}}),!1})}),$(".add-intern-favorites-area, .intern-favorites-btn").click(function(){var e=$(this).find(".favorite-icon").text();return"favorite_border"==e?($(".container.intern-detail")[0]?($(".add-remove-favorites").text("お気に入り削除"),$(".favorite-icon").text("favorite")):($(this).find(".add-remove-favorites").text("お気に入り削除"),$(this).find(".favorite-icon").text("favorite")),$.ajax({type:"POST",url:"/favorites/add-intern-favorites",dataType:"text",data:{intern_id:$(this).data("id")},error:function(){alert("お気に入り登録に失敗しました。通信環境をチェックして再度お試しください。")}})):($(".container.intern-detail")[0]?($(".add-remove-favorites").text("お気に入り追加"),$(".favorite-icon").text("favorite_border")):($(this).find(".add-remove-favorites").text("お気に入り追加"),$(this).find(".favorite-icon").text("favorite_border")),$.ajax({type:"POST",url:"/favorites/delete-intern-favorites",dataType:"text",data:{intern_id:$(this).data("id")},error:function(){alert("お気に入り削除に失敗しました。通信環境をチェックして再度お試しください。")}})),!1}),$(".register-for-favorites").click(function(){$("body").addClass("modal-open"),$("#register-modal-for-favorites").openModal({opacity:.8}),$.cookie("favorite_intern_id")&&$.removeCookie("favorite_intern_id"),$.cookie("favorite_intern_id",$(this).data("id"),{path:"/"}),$.cookie("redirect_path_after_favorites")&&$.removeCookie("redirect_path_after_favorites"),$.cookie("redirect_path_after_favorites",location.pathname+location.search,{path:"/"})}),$(".open-default")[0]&&($("body").addClass("modal-open"),$("#register-modal-for-favorites").openModal({opacity:.8})),$("#register-modal-for-favorites")[0]&&$("a.fb-login-btn, a.email-login-btn").click(function(){return $.cookie("favorite_intern_id")&&$.cookie("redirect_path_after_favorites")?($("<input>").attr({type:"hidden",name:"favorite_intern_id",value:$.cookie("favorite_intern_id")}).appendTo(this).closest("form"),$("<input>").attr({type:"hidden",name:"redirect_path",value:$.cookie("redirect_path_after_favorites")}).appendTo(this).closest("form"),void $(this).parents("form").submit()):(alert("エラーが発生しました。ブラウザをリロードして再度お試しください。"),!1)}),$(".container.interns-pc, .container.interns-mobile")[0]){$(".interns-pc select, .interns-mobile select").change(function(){$(this).closest(".select-wrapper").find("input.select-dropdown").css("color","#26a69a")}),$(function(){if($(".interns-pc")[0]){var e=$(".occupation-selectBtn input"),t=$(".area-selectBtn input"),a=$(".industry-selectBtn input"),i=$(".feature-selectBtn input");"職種を選択"!=e.val()&&$(e).css("color","#26a69a"),"エリアを選択"!=t.val()&&$(t).css("color","#26a69a"),"業界を選択"!=a.val()&&$(a).css("color","#26a69a"),"特徴を選択"!=i.val()&&$(i).css("color","#26a69a")}}),$(function(){$(".category-search-open-button").on("click",function(){$(".category-search-toggle-wrapper ").fadeIn(500),postData()}),$(".category-search-close-button").on("click",function(){$(".category-search-toggle-wrapper ").css("display","none")})}),$(".filled-in").change(function(){postData()});var postData=function(){var e=$(".hit-number"),t=$(".ajax-hit-number"),a=$(".under-fixed-search-button-area .search-btn");t.text(e.text());var i=$("[name='free_word']").val(),n=[],o=[],r=[],s=[];$("[name='occupation[]']:checked").each(function(){s.push($(this).val())}),$("[name='area[]']:checked").each(function(){n.push($(this).val())}),$("[name='industry[]']:checked").each(function(){o.push($(this).val())}),$("[name='feature[]']:checked").each(function(){r.push($(this).val())}),$.ajax({type:"POST",url:"/intern-list/ajax-hit-number",dataType:"json",data:{free_words:i,occupations:s,areas:n,industries:o,features:r},success:function(e){0==e.ajaxHitNumber?a.attr("disabled","disabled").text("検索結果が0件です"):a.removeAttr("disabled","disabled").text("選択した条件で検索"),$({count:0}).animate({count:e.ajaxHitNumber},{duration:500,easing:"linear",progress:function(){t.text(Math.ceil(this.count))}})},error:function(){alert("通信エラーです。もう一度お試しください。")}})};$(".cover-image-area").length&&($(".fixed-scroll-top-btn").on("click",function(){$("html, body").animate({scrollTop:0},"slow")}),$(function(){var e=$(".side-scroll-top-btn");e.hide(),$(window).scroll(function(){var t=$(".cover-image-area").offset().top;$(this).scrollTop()>t?e.fadeIn():e.fadeOut()}),e.click(function(){$("html, body").animate({scrollTop:0},"slow")})}))}if($(".full-container.my-page")[0]){var alert=$(".alert.update-policy-notification");alert[0]&&("hide"!=$.cookie("update_policy_notification")&&alert.removeClass("hide"),alert.find("a.close-alert").click(function(){$.cookie("update_policy_notification","hide",{expires:365}),alert.addClass("hide")})),$(".account-info a.edit-link").click(function(){var e=$(this).closest("p.item-name").next(".default-display-area"),t=$(this).closest("p.item-name").nextAll(".edit-area");e.hasClass("hide")?e.removeClass("hide"):e.addClass("hide"),t.hasClass("hide")?t.removeClass("hide"):t.addClass("hide")}),$(".btn-area a.cancel").click(function(){$(this).closest(".item-wrapper").find(".default-display-area").removeClass("hide"),$(this).closest(".edit-area").addClass("hide")}),$(function(){$(".scholarship-step .each-step.active").prevAll(".each-step").find(".step-title").css("text-decoration","line-through")}),$(".scholarship-step #scholarship-agreement").change(function(){$(this).is(":checked")?$(this).closest(".step-content").find(".btn").removeAttr("disabled").removeClass("disabled"):$(this).closest(".step-content").find(".btn").attr("disabled","disabled").addClass("disabled")}),$(".report-quit-intern .quit-report-btn").click(function(){return confirm("インターン終了を確定してもよろしいですか？")}),$(".remove-form-favorites").click(function(){$(this).parents("tr").hide("fast"),$.ajax({type:"POST",url:"/favorites/delete-intern-favorites",dataType:"text",data:{intern_id:$(this).data("id")},error:function(){alert("お気に入り削除に失敗しました。通信環境をチェックして再度お試しください。")}})}),$(".user-messages-container, .mb-user-messages-container")[0]&&$(function(){$("#submit").addClass("disabled"),$("#content").on("keyup",function(){""===$(this).val()?($("#submit").addClass("disabled"),$("#submit").attr("type","button")):($("#submit").removeClass("disabled"),$("#submit").attr("type","submit"))}),$(".user-messages-threads").length?$(".user-messages-threads").animate({scrollTop:$(".user-messages-threads")[0].scrollHeight},"fast"):$(".mb-user-messages-threads").animate({scrollTop:$(".mb-user-messages-threads")[0].scrollHeight},"fast");var e=0;$(".user-messages-list li").each(function(){return $(this).hasClass("active")?!1:void(e+=$(this).outerHeight(!0))}),$(".user-messages-list").animate({scrollTop:e},"fast")})}if($(function(){$("#scholarship-main-description")[0]&&$("a.what-scholarship-btn").click(function(){var e=500;$("html,body").animate({scrollTop:$("#scholarship-main-description").offset().top},e,"swing")})}),$("body.private-secretary-lp")[0]&&$(".contents-toggle-button").click(function(){"none"==$(".toggle-contents").css("display")?($(".toggle-arrow-icon").html("keyboard_arrow_up"),$(".toggle-contents").slideDown("800")):($(".toggle-arrow-icon").html("keyboard_arrow_down"),$(".toggle-contents").slideUp("800"))}),$(".interns-pc-for-short-intern, .interns-mobile-for-short-intern")[0]&&($(function(){var e=$(".summer-intern-description-alert");e[0]&&("true"!=$.cookie("summer_intern_description_hide")&&e.removeClass("hide"),e.find("a.close-description").click(function(){$.cookie("summer_intern_description_hide","true",{expires:365}),e.addClass("hide")}))}),$(function(){$(".interns-pc-for-short-intern .submit-soon, .interns-mobile-for-short-intern .submit-soon").change(function(){$(this).closest("form").submit()})})),$(function(){if($(".interns-pc-for-short-intern")[0]){var e=$(".industry-selectBtn input"),t=$(".job-type-selectBtn input");"全ての業界"!=e.val()&&$(e).css("color","#26a69a"),"全ての職種"!=t.val()&&$(t).css("color","#26a69a")}if($(".interns-mobile-for-short-intern")[0]){var e=$("[name=industry] option:selected"),t=$("[name=job_type] option:selected");"全ての業界"!=e.text()&&$(e).parent("select").css("color","#26a69a"),"全ての職種"!=t.text()&&$(t).parent("select").css("color","#26a69a")}}),$(".summer-favorites-btn").click(function(){var e=$(this).find(".favorite-icon").text();return"favorite_border"==e?$(".container.intern-detail")[0]?($(".add-remove-favorites").text("お気に入りから削除"),$(".favorite-icon").text("favorite")):($(this).find(".add-remove-favorites").text("お気に入りから削除"),$(this).find(".favorite-icon").text("favorite")):$(".container.intern-detail")[0]?($(".add-remove-favorites").text("お気に入り追加して更新情報を受け取る"),$(".favorite-icon").text("favorite_border")):($(this).find(".add-remove-favorites").text("お気に入り追加して更新情報を受け取る"),$(this).find(".favorite-icon").text("favorite_border")),!1}),$("#register-modal-for-short-intern")[0]&&($("a.modal-trigger").click(function(){"schedule"==$(this).data("modal")?($(".only-for-schedule").show(),$(".only-for-entry").hide(),$.cookie("schedule_id",$(this).data("id"),{path:"/"}),$.cookie("redirect_path_after_add_schedule",location.pathname+location.search,{path:"/"})):($(".only-for-entry").show(),$(".only-for-schedule").hide(),$.cookie("schedule_id")&&$.removeCookie("schedule_id",{path:"/"}),$.cookie("redirect_path_after_add_schedule",location.pathname+location.search,{path:"/"}))}),$("a.fb-login-btn, a.email-login-btn").click(function(){return $.cookie("redirect_path_after_add_schedule")?($("<input>").attr({type:"hidden",name:"schedule_id",value:$.cookie("schedule_id")}).appendTo(this).closest("form"),$("<input>").attr({type:"hidden",name:"redirect_path",value:$.cookie("redirect_path_after_add_schedule")}).appendTo(this).closest("form"),void $(this).parents("form").submit()):(alert("エラーが発生しました。ブラウザをリロードして再度お試しください。"),!1)}),$("#modal-for-register input#email-1, #modal-for-register input#password-1").on("keydown keyup",function(){var e=$("#modal-for-register input#email-1").val(),t=$("#modal-for-register input#password-1").val();$("#modal-for-register-detail input#email-3").val(e),$("#modal-for-register-detail input#password-3").val(t)}),$("#register-modal-for-short-intern.open-default")[0]&&($("#register-modal-for-short-intern.open-default").openModal({opacity:.8,dismissible:!1}),$("body").removeClass("modal-open"),$("#materialize-lean-overlay-1").hide())),$(function(){$(".summer-intern-image-slide").slick({centerMode:!0,slidesToShow:1,speed:300,variableWidth:!0,infinite:!0,autoplay:!0})}),$(function(){$(".summer-intern-detail .deadline-disabled.disabled").text("募集は終了しました")}),$(function(){var e=100,t=450,a=3e3,i=1e3;$("#slide ul li").css({position:"relative",overflow:"hidden",width:e+"%",height:t}),$("#slide ul li").hide().css({position:"absolute",top:0,left:0}),$("#slide ul li:first").addClass("active").show(),setInterval(function(){var e=$("#slide ul li.active"),t=e.next("li").length?e.next("li"):$("#slide ul li:first");e.fadeOut(i).removeClass("active"),t.fadeIn(i).addClass("active")},a)}),$(function(){var e=100,t=450,a=3e3,i=1e3;$("#mobile-slide ul li").css({position:"relative",overflow:"hidden",width:e+"%",height:t}),$("#mobile-slide ul li").hide().css({position:"absolute",top:0,left:0}),$("#mobile-slide ul li:first").addClass("active").show(),setInterval(function(){var e=$("#mobile-slide ul li.active"),t=e.next("li").length?e.next("li"):$("#mobile-slide ul li:first");e.fadeOut(i).removeClass("active"),t.fadeIn(i).addClass("active")},a)}),$(function(){$(".logo-slide").slick({appendArrows:$("#arrows"),infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3})}),$(".container.traimmu-admin")[0]&&($(".update-mail-list-btn").click(function(){return confirm("MailChimpのリストを更新してよろしいですか？")}),$(".export-request-status-change-btn").click(function(){return""==$("input#export-date").val()?(alert("日付を指定してください！"),!1):confirm("ステータス変更依頼リストに、応募日が指定日以降のデータを追加します。よろしいですか？")?void $(this).closest("form").submit():!1}),$(function(){$(".datepicker").datepicker({language:"ja",format:"yyyy-mm-dd"})}),$(function(){$(".submit-if-selected").change(function(){$(this).closest("form").submit()})}),$("a.change-status-link").click(function(){$(this).parent("form").submit()}),$("button#send-dm").click(function(){return confirm("この内容が登録ユーザー全員に送信されます。よろしいですか？")}),$(function(){$("#dm-content").on("keydown keyup",function(){var e=$("#dm-content").val();e=e.replace(/\[名前\]/g,"本田圭佑"),e=e.replace(/\[企業名\]/g,"HONDA ESTILO株式会社"),e=e.replace(/\[担当者名\]/g,"本田圭佑"),e=e.replace(/\n/g,"<br>"),$("#dm-final-content").html(e)})}),$(".manual-apply-btn").click(function(){return confirm("手動で申込済みに変更します。本当によろしいですか？")?void 0:!1}),$(".delete-company-btn").click(function(){return confirm("本当に削除しますか？")?($(this).parents("tr").hide("fast"),void $.ajax({type:"POST",url:"/traimmu-admin/delete-company-account",data:{company_id:$(this).data("id")},error:function(){alert("削除に失敗しました。通信環境をチェックして再度お試しください。")}})):!1}),$(".company-messages-threads").animate({scrollTop:$(".company-messages-threads")[0].scrollHeight},"fast")),$(".resume-profile")[0]&&($("span#new-user-from-resume-modal-trigger")[0]&&$("#modal-new-user-from-resume").openModal(),$("a.close-modal").click(function(){$("#modal-new-user-from-resume").closeModal()}),$(function(){$("input.profile-img, input.cover-img").change(function(){$(this).closest("form").submit()})}),$("img.cover-image, .hover-cover-image").click(function(){$("input.cover-img").click()}),$("a.cover-image-wrapper").hover(function(){$(".hover-cover-image").removeClass("hide")},function(){$(".hover-cover-image").addClass("hide")}),$("img.profile-image, .hover-profile-image").click(function(){$("input.profile-img").click()}),$(".resume-profile a.profile-image-wrapper.pc").hover(function(){$(".hover-profile-image").removeClass("hide")},function(){$(".hover-profile-image").addClass("hide")}),$(".default-display-area").hover(function(){$(this).find("span.hover-edit-icon.pc").removeClass("hide")},function(){$(this).find("span.hover-edit-icon.pc").addClass("hide")}),$(function(){$(".resume-profile")[0]&&($(".education-career .default-display-area, .related-link .default-display-area, .foreign-language .default-display-area").click(function(){$(this).addClass("hide"),$(this).next(".edit-area").removeClass("hide")}),$("p.link a").click(function(e){e.stopPropagation()}))}),$("a.delete").click(function(){if(!confirm("本当に削除してよろしいですか？"))return!1;var e=$(this).attr("class").split(" ")[1];$("<input>").attr({type:"hidden",name:e,value:"delete"}).appendTo(this).closest("form"),$("<input>").attr({type:"hidden",name:"no_validation",value:"no_validation"}).appendTo(this).closest("form"),$(this).closest("form").submit()}),$(".btn-area a.cancel").click(function(){$(this).closest(".item-wrapper").find(".default-display-area").removeClass("hide"),$(this).closest(".edit-area").addClass("hide")}),$(".item-name a.add-link").click(function(){$(this).closest(".item-wrapper").find(".add-area").removeClass("hide")}),$(".add-area a.cancel").click(function(){$(".add-area").addClass("hide")}),$(".item-name a.edit-link").click(function(){var e=$(this).closest("p.item-name").next(".default-display-area"),t=$(this).closest("p.item-name").nextAll(".edit-area");e.hasClass("hide")?e.removeClass("hide"):e.addClass("hide"),t.hasClass("hide")?t.removeClass("hide"):t.addClass("hide")}),$('input[name="programming"]').change(function(){"yes"==$("input[name='programming']:checked").val()?$(".row.programming-experience-year").addClass("active"):"no"==$("input:radio[name='programming']:checked").val()&&$(".row.programming-experience-year").removeClass("active")}).trigger("change"),$('input[name="design"]').change(function(){"yes"==$("input[name='design']:checked").val()?$(".row.design-experience-year").addClass("active"):"no"==$("input:radio[name='design']:checked").val()&&$(".row.design-experience-year").removeClass("active")}).trigger("change"),$(document).ready(function(){$.getJSON("/data/skills.json",function(e){$("#skill-tag").tagit({fieldName:"skills[]",caseSensitive:!1,availableTags:e.skills})})}),$("select[name=enthusiasm]").change(function(){"negative"==$(this).val()?($(".show-negative").addClass("show-negative--active"),$(".show-not-negative").removeClass("show-not-negative--active")):($(".show-not-negative").addClass("show-not-negative--active"),$(".show-negative").removeClass("show-negative--active"))})),$(".container.company-admin, .container-fluid.company-admin")[0]&&($("a.change-status-link").click(function(){$(this).parent("form").submit()}),$(".overlapping-link").click(function(){return confirm("応募者に重複の旨を記載したメールが送信され、InfrAでの採用ができなくなります。本当によろしいですか？")?void $("form.overlapping").submit():!1}),$("button.accept").click(function(){return confirm("採用決定してよろしいですか？")}),$("button.reject").click(function(){return confirm("採用見送りにしてよろしいですか？")}),$(function(){$("textarea.add-message").on("keydown keyup",function(){$(this).val().length>0?$(".add-message-area").css("display","inherit"):$(".add-message-area").css("display","none");var e=$(this).val();$(".add-message-here").html(e)})}),$("a.contacted-link").click(function(){$(this).parent("form.contacted-form").submit()}),$("#agreement").change(function(){$(this).is(":checked")?$(".apply-publication-btn").removeAttr("disabled"):$(".apply-publication-btn").attr("disabled","disabled")}),$("button.apply-publication-btn").click(function(){$(".apply-publication-form").submit()}),$(function(){$("input:text").keypress(function(e){return e.which&&13===e.which||e.keyCode&&13===e.keyCode?!1:!0})}),$(".edit-job button.delete").click(function(){return confirm("本当に削除してよろしいですか？")}),$(document).ready(function(){$.getJSON("/data/industries.json",function(e){$(".edit-info #industry-tag").tagit({fieldName:"industries[]",caseSensitive:!1,availableTags:e.industries})})}),$(document).ready(function(){$.getJSON("/data/industries.json",function(e){$(".create-job #industry-tag, .edit-job #industry-tag").tagit({fieldName:"industries[]",tagLimit:3,caseSensitive:!1,availableTags:e.industries})})}),$(".delete-hr-user").click(function(){return confirm("この担当者を削除します。本当によろしいですか？")?void $(this).closest("form").submit():!1}),$(".company-messages-list")[0])){var thread_height=$(".company-messages-main").height()-($(".company-messages-application-link").height()+$(".fixed-bottom-wrapper").height())-3;$(".company-messages-threads").css("height",thread_height+"px"),$(function(){$("#submit").addClass("disabled"),$("#content").on("keyup",function(){""===$(this).val()?($("#submit").addClass("disabled"),$("#submit").attr("type","button")):($("#submit").removeClass("disabled"),$("#submit").attr("type","submit"))}),$(".company-messages-threads").animate({scrollTop:$(".company-messages-threads")[0].scrollHeight},"fast");var e=0;$(".company-messages-list li").each(function(){return $(this).hasClass("active")?!1:void(e+=$(this).outerHeight(!0))}),$(".company-messages-list").animate({scrollTop:e},"fast")})}if($(".company-admin-for-short")[0]&&($("#select-application-type").change(function(){var e=$("select[name='application_type'] option:selected").val();"internal"==e?($(".row.only-internal").show(),$(".row.only-external").hide()):"external"==e?($(".row.only-internal").hide(),$(".row.only-external").show()):($(".row.only-internal").hide(),$(".row.only-external").hide())}).change(),$(".select-intern-schedule").click(function(){setDatePicker($(this))}),$("#add-schedule").addInputArea(),$("#add-slider-image").addInputArea({maximum:10}),$("#add-slider-image").on("change","input",function(){var e=$(this).prop("files")[0],t=$(this),a=new FileReader;a.onload=function(){t.closest(".row").find("img.preview").attr("src",a.result)},a.readAsDataURL(e)}),$(".delete-slider-image-btn").click(function(){return confirm("この画像を削除します。よろしいですか？")?($(this).closest(".each-saved-slider-image").hide("normal"),void $.ajax({type:"POST",url:"/company-admin-summer-2016/delete-slider-image",dataType:"text",data:{image_id:$(this).data("id")},error:function(){alert("画像の削除に失敗しました。通信環境をチェックして再度お試しください。")}})):!1}),$(".each-saved-schedule .display-area").click(function(){$(this).addClass("hide"),$(this).next(".edit-area").removeClass("hide")}),$(".edit-area a.cancel").click(function(){$(this).closest(".each-saved-schedule").find(".display-area").removeClass("hide"),$(this).closest(".edit-area").addClass("hide")}),$("a.delete-schedule").click(function(){return confirm("このスケジュールを削除します。よろしいですか？")?($(this).closest(".edit-area").hide("normal"),void $.ajax({type:"POST",url:"/company-admin-summer-2016/delete-intern-schedule",dataType:"text",data:{schedule_id:$(this).data("id")},error:function(){alert("スケジュールの削除に失敗しました。通信環境をチェックして再度お試しください。")}})):!1}),$("button.add-schedule-form").click(function(){$(this).next(".add-new-schedule-area").removeClass("hide"),$(this).addClass("hide")}),$(".add-new-schedule-area a.cancel").click(function(){$(this).closest(".add-new-schedule-area").addClass("hide"),$(this).closest(".add-new-schedule-area").prev("button.add-schedule-form").removeClass("hide")}),$("a.delete-job-link").click(function(){return confirm("この募集を削除します。本当によろしいですか？")?void $(this).closest("form.delete-job-form").submit():!1})),$(".container.company-admin, .container-fluid.company-admin")[0]){$("#intro-option-question")[0]&&introJs().start(),$(document).ready(function(){$(".materialboxed.preview-detail-materialboxed").materialbox().click(function(){$(".preview-detail-flag")[0]?($(".preview-detail-img").removeClass("preview-detail-flag"),$(".preview-detail-filter,.preview-detail").removeClass("preview-detail-filter-and-detail-added"),$(".preview-detail-column-img-wrapper").removeClass("preview-detail-column-img-wrapper-added")):($(".preview-detail-img").addClass("preview-detail-flag"),$(".preview-detail-filter, .preview-detail").addClass("preview-detail-filter-and-detail-added"),$(".preview-detail-column-img-wrapper").addClass("preview-detail-column-img-wrapper-added")),$("#materialbox-overlay").click(function(){$(".preview-detail-img").removeClass("preview-detail-flag"),$(".preview-detail-filter, .preview-detail").removeClass("preview-detail-filter-and-detail-added"),$(".preview-detail-column-img-wrapper").removeClass("preview-detail-column-img-wrapper-added")}),$("#materialbox-overlay")[0]&&$(window).scroll(function(){$(".preview-detail-img").removeClass("preview-detail-flag"),$(".preview-detail-filter, .preview-detail").removeClass("preview-detail-filter-and-detail-added"),$(".preview-detail-column-img-wrapper").removeClass("preview-detail-column-img-wrapper-added")})})}),$(window).resize(function(){clipFunc()});var prevFilter=$(".preview-cassette-filter"),originalWidth=prevFilter.width()+"px",originalHeight=prevFilter.height()+"px";originalClipVal="0px,"+originalWidth+","+originalHeight+",0px",$(document).ready(function(){$(".materialboxed.preview-cassette-materialboxed").materialbox().click(function(){if($(".preview-cassette-flag")[0])$(".preview-cassette-img").removeClass("preview-cassette-flag"),$(".preview-cassette-filter, .preview-cassette").removeClass("preview-cassette-filter-and-cassette-added").css({clip:"rect("+originalClipVal+")"}),$(".preview-cassette-column-img-wrapper").removeClass("preview-cassette-column-img-wrapper-added");else{$(".preview-cassette-img").addClass("preview-cassette-flag");var e=$(this),t=window.innerHeight;newHeight=.9*t;var a=.9*window.innerWidth*.221+"px",i=.9*window.innerHeight*.56+"px";clipVal="0px,"+a+","+i+",0px",$(".preview-cassette-filter, .preview-cassette").addClass("preview-cassette-filter-and-cassette-added").css({clip:"rect("+clipVal+")"});var n=$(document).scrollTop()+t/2-e.parent(".material-placeholder").offset().top-newHeight/2+"px";$(".materialboxed-wrapper").css("top",n),$(".preview-cassette-column-img-wrapper").addClass("preview-cassette-column-img-wrapper-added")}var o=$("#materialbox-overlay");o.click(function(){$(".preview-cassette-img").removeClass("preview-cassette-flag"),$(".preview-cassette-filter, .preview-cassette").removeClass("preview-cassette-filter-and-cassette-added").css({clip:"rect("+originalClipVal+")"}),$(".preview-cassette-column-img-wrapper").removeClass("preview-cassette-column-img-wrapper-added")}),o[0]&&$(window).scroll(function(){$(".preview-cassette-img").removeClass("preview-cassette-flag"),$(".preview-cassette-filter, .preview-cassette").removeClass("preview-cassette-filter-and-cassette-added").css({clip:"rect("+originalClipVal+")"}),$(".preview-column-img-wrapper").removeClass("preview-cassette-column-img-wrapper-added")})})})}if($(".show-bubble-chart-area")[0]){var width=400;$(window).width()<=400&&(width=$(window).width()-20);var diameter=width,format=d3.format(",d"),color=d3.scale.category20c(),bubble=d3.layout.pack().sort(null).size([diameter,diameter]).padding(1.5),svg=d3.select(".show-bubble-chart-area").append("svg").attr("width",width).attr("height",diameter).attr("class","bubble"),i=0;d3.json("/apply-internship/generate-bubble-chart",function(e,t){if(e)throw e;var a=svg.selectAll(".node").data(bubble.nodes(classes(t)).filter(function(e){return!e.children})).enter().append("g").attr("class",function(e){return"node "+e.packageName}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"});a.append("title").text(function(e){return e.className}),a.append("circle").attr("class",function(e){return"node "+e.packageName}).attr("r",function(e){return e.r}).style("fill",function(e){return color(e.packageName)}),a.append("text").attr("class","name").attr("dy","2").style("text-anchor","middle").text(function(e){return e.className.substring(0,e.r/3)}),a.append("text").attr("class","num").attr("dy","20").style("text-anchor","middle").text(function(){return 3>i?t.children[i++].children[0].application:t.children[i++].application})}),d3.select(self.frameElement).style("height",diameter+"px")}$("#calendar-for-short-intern")[0]&&($("#calendar-for-short-intern").fullCalendar({header:{left:"prev,next",center:"title",right:"today"},titleFormat:{month:"YYYY年M月"},buttonText:{today:"今日"},timeFormat:"H:mm",dayNamesShort:["日","月","火","水","木","金","土"],aspectRatio:1.2,eventLimit:4,fixedWeekCount:!1,events:function(e,t,a,i){$.ajax({type:"GET",url:"/calendar/calendar-data-for-short-intern",dataType:"json",error:function(){alert("日程取得時にエラーが発生しました。")},success:function(e){i(e)}})},eventClick:function(e,t){$(".popover.schedule-detail")[0]&&$(".popover.schedule-detail").remove(),$("body").append(e.tooltip),$(".popover.schedule-detail").css("top",$(t.currentTarget).offset().top-$(".popover.schedule-detail").height()-5+"px").css("left",$(t.currentTarget).offset().left-$(".popover.schedule-detail").width()/2+$(t.currentTarget).width()/2+"px").css("position","absolute").css("z-index",10).fadeIn()}}),$(document).on("click",function(e){$(e.target).closest(".fc-event-container, .popover")[0]||$(".popover.schedule-detail").remove();
}),$(document).on("click","a.remove-schedule-from-calendar",function(){if($(this).hasClass("deadline")){if(!confirm("締切日を削除すると開催日程も連動して削除されます。本当によろしいですか？"))return!1}else if($(this).hasClass("intern-date")&&!confirm("この予定を削除します。本当によろしいですか？"))return!1;var e=$(this).data("schedule-id");$(this).parents(".popover").hide("fast"),$(".schedule-id-"+e).each(function(){$(this).hide("normal")}),$.ajax({type:"POST",url:"/calendar/delete-intern-schedule",dataType:"text",data:{schedule_id:e},error:function(){alert("予定削除に失敗しました。通信環境をチェックして再度お試しください。")}})})),$("a.add-schedules-btn:not(.modal-trigger)").click(function(){var e=$(this).find("i.schedule-icon").text(),t=$("a.pre-entry-btn");return"playlist_add"==e?(t[0]||($(this).addClass("already-added"),$(this).find(".add-remove-schedule").text("予定追加済み"),$(this).find("i.schedule-icon").text("done")),$.ajax({type:"POST",url:"/calendar/add-intern-schedule",dataType:"text",data:{schedule_id:$(this).data("id")},success:function(){t[0]&&location.reload()},error:function(){alert("予定追加に失敗しました。通信環境をチェックして再度お試しください。")}})):(t[0]||($(this).removeClass("already-added"),$(this).find(".add-remove-schedule").text("予定表に追加"),$(this).find("i.schedule-icon").text("playlist_add")),$.ajax({type:"POST",url:"/calendar/delete-intern-schedule",dataType:"text",data:{schedule_id:$(this).data("id")},success:function(){t[0]&&location.reload()},error:function(){alert("予定の削除に失敗しました。通信環境をチェックして再度お試しください。")}})),!1}),$("a.pre-entry-btn:not(.disabled, .modal-trigger)").click(function(){$("a.pre-entry-btn:not(.disabled)").each(function(){$(this).text("予定表に追加済み").addClass("disabled apply-btn"),$(this).find("i.material-icons").remove()});var e=$("a.add-schedules-btn:first");return e.addClass("already-added"),e.find(".add-remove-schedule").text("予定追加済み"),e.find("i.schedule-icon").text("done"),$.ajax({type:"POST",url:"/calendar/add-intern-schedule",dataType:"text",data:{schedule_id:$(this).data("id")},error:function(){alert("予定追加に失敗しました。通信環境をチェックして再度お試しください。")}}),!1}),$(".config-deadline-remind-mail").click(function(){var e=$(".user-id").val();$(".on-off").prop("checked");return $(".on-off").prop("checked")?$.ajax({type:"POST",url:"/calendar/config-deadline-remind-mail",dataType:"text",data:{user_id:e},success:function(){$(".on-off").prop("checked",!1)},error:function(){}}):$.ajax({type:"POST",url:"/calendar/config-deadline-remind-mail",dataType:"text",data:{user_id:e},success:function(){$(".on-off").prop("checked",!0)},error:function(){}}),!1}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),function(e){function t(e,t){this.elem=e,this.option=t,this._setOption(),this._setDelBtnVisibility(),this._ehAddBtn(),this._ehDelBtn(),this._setNameAttribute(),this._saveOriginal()}e.fn.addInputArea=function(e){return this.each(function(){new t(this,e)})},e.extend(t.prototype,{_setOption:function(){var t=e(this.elem).attr("id");this.option=e.extend({attr_name:t?t+"_%d":"aia_%d",area_var:t?"."+t+"_var":".aia_var",area_del:"",btn_del:t?"."+t+"_del":".aia_del",btn_add:t?"."+t+"_add":".aia_add",after_add:null,clone_event:!0,maximum:0},this.option),this.option.area_del||(this.option.area_del=this.option.btn_del)},_setDelBtnVisibility:function(){1==e(this.elem).find(this.option.area_var).length&&e(this.elem).find(this.option.area_del).hide()},_ehAddBtn:function(){var t=this;e(document).on("click",this.option.btn_add,function(a){var i=e(t.elem).find(t.option.area_var).length,n=e(t.option.original).clone(!0);e(n).find("[name]").each(function(a,n){t._changeAttrAlongFormat(n,i,"name"),t._changeAttrAlongFormat(n,i,"id"),"false"!=e(n).attr("empty_val")&&("checkbox"==e(n).attr("type")||"radio"==e(n).attr("type")?n.checked=!1:"submit"!=e(n).attr("type")&&"reset"!=e(n).attr("type")&&"image"!=e(n).attr("type")&&"button"!=e(n).attr("type")&&e(n).val(""))}).end().find("[for]").each(function(e,a){t._changeAttrAlongFormat(a,i,"for")}),e(t.elem).append(n),e(t.elem).find(t.option.area_del).show(),t.option.maximum>0&&e(t.elem).find(t.option.area_var).length>=t.option.maximum&&e(t.option.btn_add).hide(),"function"==typeof t.option.after_add&&t.option.after_add()})},_ehDelBtn:function(){var t=this;e(t.elem).on("click",t.option.btn_del,function(a){a.preventDefault();var i=e(t.elem).find(t.option.btn_del).index(a.target);e(t.elem).find(t.option.area_var).eq(i).remove(),t._setDelBtnVisibility(),t._setNameAttribute(),t.option.maximum>0&&e(t.elem).find(t.option.area_var).length<t.option.maximum&&e(t.option.btn_add).show()})},_setNameAttribute:function(){var t=this;e(this.elem).find(this.option.area_var).each(function(a,i){e(i).find("[name]").each(function(){t._changeAttrAlongFormat(this,a,"name"),t._changeAttrAlongFormat(this,a,"id")}).end().find("[for]").each(function(){t._changeAttrAlongFormat(this,a,"for")})})},_saveOriginal:function(){this.option.original=e(this.elem).find(this.option.area_var).eq(0).clone(this.option.clone_event)},_changeAttrAlongFormat:function(t,a,i){var n=null;if(/^.+_\d+$/.test(e(t).attr(i)))n=e(t).attr(i).replace(/^(.+_)\d+$/,"$1"+a);else try{switch(i){case"name":if(!e(t).attr("name_format"))throw new Error('(jquery.addInputArea)\nNot found "name_format" attribute in\n<'+e(t)[0].tagName+" "+i+'="'+e(t).attr(i)+'">');n=e(t).attr("name_format").replace("%d",a);break;case"id":if(e(t).attr("id_format"))n=e(t).attr("id_format").replace("%d",a);else if(e(t).attr("id"))throw new Error('(jquery.addInputArea)\nNot found "name_format" attribute in\n<'+e(t)[0].tagName+" "+i+'="'+e(t).attr(i)+'">');break;case"for":if(!e(t).attr("id_format"))throw new Error('(jquery.addInputArea)\nNot found "name_format" attribute in\n<'+e(t)[0].tagName+" "+i+'="'+e(t).attr(i)+'">');n=e(t).attr("id_format").replace("%d",a)}}catch(o){alert(o)}e(t).attr(i,n)}})}(jQuery),$("#mobile-nav")[0]&&$(function(){var e=$("#mobile-nav"),t=e.offset().top,a=function(){$(window).scrollTop()>=t?$("#mobile-nav, .content-wrapper-for-mobile-nav").addClass("fixed"):$("#mobile-nav, .content-wrapper-for-mobile-nav").removeClass("fixed")};$(window).scroll(a),$("body").bind("touchmove",a)}),$(function(){var e=$("ul.pagination li"),t=$("ul.pagination li.active"),a=$("ul.pagination li.disabled"),i=parseInt(t.text()),n=i-1,o=$("ul.pagination li:contains('"+n+"') a"),r=i+1,s=$("ul.pagination li:contains('"+r+"') a");e.addClass("waves-effect"),t.removeClass("waves-effect"),a.removeClass("waves-effect"),o.attr("rel","prev"),s.attr("rel","next")});var clipFunc=function(){var e=$(".preview-cassette-filter"),t=$(".preview-cassette"),a=e.width()+"px",i=e.height()+"px";return clipVal="0px,"+a+","+i+",0px",t.css({clip:"rect("+clipVal+")"}),t};if($(function(){$(".input-img-file").change(function(){var e=$(this).prop("files")[0],t=$(this),a=t.attr("name"),i=new FileReader;i.onload=function(){if("intern_cover_img"==a)$(".preview-detail").attr("src",i.result),$(".preview-detail-filter").hide();else if("intern_img"==a){var e=clipFunc();e.attr("src",i.result),$(".preview-cassette-filter").hide()}t.closest(".row").find("img.preview").attr("src",i.result)},i.readAsDataURL(e)})}),$(function(){$(".new-career-image").change(function(){var e=$(this).prop("files")[0],t=$(this),a=new FileReader;a.onload=function(){$("img.new-career-image-preview")[0]?t.closest(".row").find("img.new-career-image-preview").attr("src",a.result):t.closest(".row").prepend('<img class="new-career-image-preview" alt="経歴に関する画像" src="'+a.result+'">')},a.readAsDataURL(e)})}),!function(e,t,a){var i,n=e.getElementsByTagName(t)[0],o=/^http:/.test(e.location)?"http":"https";e.getElementById(a)||(i=e.createElement(t),i.id=a,i.async=!0,i.src=o+"://platform.twitter.com/widgets.js",n.parentNode.insertBefore(i,n))}(document,"script","twitter-wjs"),function(e,t,a){var i,n=e.getElementsByTagName(t)[0];e.getElementById(a)||(i=e.createElement(t),i.id=a,i.async=!0,i.src="//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.4&appId=1412068989120518",n.parentNode.insertBefore(i,n))}(document,"script","facebook-jssdk"),$(".apply-intern, .container-fluid.register, #register-modal-for-short-intern, #register-modal-for-question-interviewee")[0]){var schools=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:"/data/schools.json"});$("#school").typeahead(null,{hint:!0,highlight:!0,minLength:10,source:schools})}var ua=window.navigator.userAgent.toLowerCase();if(-1!=navigator.userAgent.indexOf("Safari")&&($("button.btn").removeClass("waves-effect"),$("a.btn").removeClass("waves-effect"),$("a.btn-floating").removeClass("waves-effect")),-1!=ua.indexOf("chrome")&&($("button.btn").addClass("waves-effect"),$("a.btn-floating:not(.circle a.btn-floating, a.btn-floating.no-waves-effect)").addClass("waves-effect")),$(".owned-media-articles-wrapper")[0]){var id=$(".article-toggle-card").data("id");1==id&&$(function(){var e=$(".article-toggle-card"),t=e.length,a=5,i=e.slice(a,t),n=$(".article-show-more"),o=$(".article-pagination");o.hide(),i.hide(),n.click(function(){"block"==i.css("display")?(i.slideUp("800"),o.slideUp("800"),n.html('もっと見る<i class="material-icons right">keyboard_arrow_down</i>')):(i.slideDown("800"),o.slideDown("800"),n.html('閉じる<i class="material-icons right">keyboard_arrow_up</i>'))})}),$(function(){$(".post-content .responsive-table").removeClass("responsive-table")})}if($(".main-contents.create-banner")[0]&&($(function(){var e=$("#pc-title"),t=$("#mobile-title"),a=$("#sentence"),i=$("#sub-sentence");e.on("keydown keyup",function(){$("#banner-title strong").text(e.val())}),t.on("keydown keyup",function(){$("#banner-title-for-mobile strong").text(t.val())}),a.on("keydown keyup",function(){$("#banner-sentence").text(a.val())}),i.on("keydown keyup",function(){$("#banner-sub-sentence").text(i.val())}),$(function(){$(".input-banner-img-file").change(function(){var e=$(this).prop("files")[0],t=new FileReader;t.onload=function(){$(".banner-preview img").attr("src",t.result)},t.readAsDataURL(e)})})}),$(function(){$("#embed-banner-code").focus(function(){$(this).select()})})),$(".create-article, .edit-article")[0]&&($(document).ready(function(){$.ajax({type:"GET",url:"/traimmu-admin-articles/all-tags-for-article",dataType:"json",success:function(e){$("ul#article-tag").tagit({fieldName:"tags[]",caseSensitive:!1,availableTags:e})}})}),$(document).ready(function(){$("body").addClass("create-edit-article")}),$("img.preview, .hover-thumbnail-image").click(function(){$("input.thumbnail-image").click()}),$("a.thumbnail-image-wrapper").hover(function(){$(".hover-thumbnail-image").removeClass("hide")},function(){$(".hover-thumbnail-image").addClass("hide")})),$("#materialnote")[0]){var toolbar=[["style",["style","bold","italic","underline","strikethrough","clear"]],["fonts",["fontsize"]],["color",["color"]],["undo",["undo","redo","help"]],["ckMedia",["ckImageUploader","ckVideoEmbeeder"]],["misc",["link","picture","table","hr","codeview","fullscreen"]],["para",["ul","ol","paragraph"]],["height",["lineheight"]]];$(document).ready(function(){$("#materialnote").materialnote({toolbar:toolbar,maxWidth:800,height:600,focus:!0,placeholder:"write here...",codemirror:{theme:"monokai"},onKeyup:function(){$(window).on("beforeunload",onBeforeUnloadHandler)},onImageUpload:function(e){data=new FormData,data.append("image",e[0]),$.ajax({data:data,type:"POST",url:"/traimmu-admin-articles/upload-image-in-article",cache:!1,contentType:!1,processData:!1,success:function(e){$("#materialnote").materialnote("insertImage",e)}})}})}),window.onload=function(){$(".article-save-btn").removeAttr("disabled")},$("form.materialnote-form button").attr("type","button"),$(document).ready(function(){$(".note-editor").keydown(function(e){if($(".edit-article")[0]&&"13"==e.which){var t={content:$(".note-editable").html(),id:$("#materialnote").data("id")},a=!0;$.ajax({type:"POST",data:t,url:"/traimmu-admin-articles/auto-save-draft",success:function(e){return"size_over"==e?(alert("文字数オーバーです。文章を削ってください。"),!1):"true"!=e&&"unsaved"!=e&&1==a?(alert("自動保存に失敗しました。ログイン状況を確認してください。"),a=!1,!1):void 0},error:function(){1==a&&(alert("自動保存に失敗しました。通信環境を確認してください。"),a=!1)}})}})});var onBeforeUnloadHandler=function(){return"変更内容の保存が完了していません。このまま移動しますか？"};$("textarea, input").on("keyup",function(){$(window).on("beforeunload",onBeforeUnloadHandler)}),$(".article-save-btn").click(function(){$(window).off("beforeunload",onBeforeUnloadHandler),$.ajax({type:"POST",url:"/traimmu-admin-articles/check-auth",success:function(e){return"true"!=e?(alert("ログインしていません。必ず別タブでログインしてから再度保存を行ってください"),!1):void $(".article-save-btn").closest("form").submit()},error:function(){alert("ログインチェックに失敗しました。通信環境をチェックして再度お試しください。")}})})}if($("#register-modal-for-question-interviewee")[0]){$(".fb-login-btn, .question-submit-btn").click(function(){$(this).parents("form").submit()}),$("input#email-1, input#password-1").on("keydown keyup",function(){var e=$("input#email-1").val(),t=$("input#password-1").val();$("input#email-3").val(e),$("input#password-3").val(t)}),$("#register-modal-for-question-interviewee.open-default")[0]&&($("#register-modal-for-question-interviewee").openModal({opacity:.8}),$("#materialize-lean-overlay-1").hide());var current_scroll_Y,trigger=$(".modal-trigger"),wrapper=$(".owned-media-articles-wrapper");trigger.on("click",function(){current_scroll_Y=$(window).scrollTop(),wrapper.css({position:"fixed",width:"100%",top:-1*current_scroll_Y+52})}),trigger.leanModal({opacity:.8,complete:function(){wrapper.attr({style:""}),$("html, body").prop({scrollTop:current_scroll_Y})}})}$(".main-contents.management-tags")[0]&&($(document).ready(function(){$.ajax({type:"GET",url:"/traimmu-admin-articles/all-tags-for-article",dataType:"json",success:function(e){$("ul#new-tag").tagit({fieldName:"new_tag_name[]",caseSensitive:!1,availableTags:e,tagLimit:1})}})}),$("a.edit-tag-info").click(function(e){$(this).closest(".display-row").addClass("hide"),$(this).closest(".display-row").next(".edit-row").removeClass("hide"),$(this).closest(".display-row").next(".edit-row").next(".edit-row").removeClass("hide"),e.stopPropagation()}),$("tr.edit-row").click(function(e){e.stopPropagation()}),$(document).click(function(){$(".display-row").removeClass("hide"),$(".edit-row").addClass("hide")}),$("a.delete-tag").click(function(){return confirm("この担当者を削除します。本当によろしいですか？")&&($(this).closest(".edit-row").prev(".display-row").remove(),$(this).closest(".edit-row").remove(),$.ajax({type:"POST",url:"/traimmu-admin-articles/delete-tag",data:{tag_id:$(this).data("id")},error:function(){alert("削除に失敗しました。通信環境をチェックして再度お試しください。")}})),!1})),$("a.basic-info").click(function(e){e.stopPropagation()}),$("a.add-career-image, .input-field.file-path").click(function(){$(this).prev("input.career-image").click(),$(this).next("input.career-image").click()}),$(function(){$("input.career-image").change(function(){$(this).prev(".file-path").val($(this).val()).css("display","inherit")})}),$(".container.resume, .container.resume-add-career-mobile")[0]&&$('select[name="career_type"]').change(function(){var e=$("select[name='career_type'] option:selected").val();switch(e){case"custom_intern":var t="企業名";break;case"custom_part_time_job":var t="企業名";break;case"study_abroad":var t="留学先の国名";break;case"seminar":var t="ゼミ / 研究室名";break;case"sports":var t="スポーツ名";break;case"project":var t="サークル名など"}$(".name-label").text(t),"custom_intern"==e?($(".row.role").show(),$(".role-label").text("役割（任意、リーダー, 広報など）")):"custom_part_time_job"==e?($(".row.role").show(),$(".role-label").text("役割（任意、レジ・接客など）")):"project"==e?($(".row.role").show(),$(".role-label").text("役割（任意、リーダー, 広報など）")):$(".row.role").hide()}).change(),$(function(){$('.ongoing-check input[type="checkbox"]:checked').each(function(){$(this).closest(".row.date").find("input.end-date").val("").attr("disabled","disabled")})}),$(".ongoing-check input").change(function(){$(this).is(":checked")?$(this).closest(".row.date").find("input.end-date").val("").attr("disabled","disabled"):$(this).closest(".row.date").find("input.end-date").removeAttr("disabled")}),$(".resume-add-career-mobile a.tab-close").click(function(){return window.close(),!1}),$(function(){$(".alert.add-career-success")[0]&&setTimeout(function(){window.opener.location.reload(),window.close()},2e3)}),$(function(){$('.row.date.ongoing .ongoing-check input[type="checkbox"]:checked').each(function(){$(this).closest(".form-inner").find("input.end-date").val("").attr("disabled","disabled")})}),$(".row.date.ongoing .ongoing-check input").change(function(){$(this).is(":checked")?$(this).closest(".form-inner").find("input.end-date").val("").attr("disabled","disabled"):$(this).closest(".form-inner").find("input.end-date").removeAttr("disabled")}),$("a.post-cancel").click(function(){$(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){$(this).css("height","")}}),$(".collapsible-body").prev().removeClass("active"),$(".collapsible-body").closest("collapsible").removeClass("active")}),$(".end-date.ongoing").find("select").val("").attr("disabled","disabled"),$(".ongoing-check label").click(function(){class_name=$(this).attr("class"),$("#edit-end-date-"+class_name).find("select").removeAttr("disabled")}),$(".edit-intern .ongoing-check input").change(function(){$(this).is(":checked")?(class_name=$(this).attr("class"),$("#edit-end-date-"+class_name).find("select").val("").attr("disabled","disabled")):$("#edit-end-date-"+class_name).find("select").removeAttr("disabled")}),$("a.edit-edu-link, a.edit-intern-link, a.edit-custom-intern-link, a.edit-others-link").click(function(){$(this).closest(".content").addClass("hide"),$(this).closest(".content").next(".edit-edu, .edit-intern, .edit-custom-intern, .edit-others").removeClass("hide")}),$("a.cancel-edit").click(function(){$(this).closest(".content").addClass("hide"),$(this).closest(".edit-edu, .edit-intern, .edit-custom-intern, .edit-others").prev(".content").removeClass("hide")}),$("a.delete-career").click(function(){if($(this).hasClass("intern")){if(!confirm("担当社員からのフィードバックを含め、この経歴に関連する全ての情報が削除されます。本当によろしいですか？"))return!1}else if($(this).hasClass("custom-intern")){if(!confirm("担当社員からの認証を含め、この経歴に関連する全ての情報が削除されます。本当によろしいですか？"))return!1}else if(!confirm("削除してよろしいですか？"))return!1;$("<input>").attr({type:"hidden",name:"delete",value:"delete"}).appendTo(this).closest("form"),$("<input>").attr({type:"hidden",name:"no_validation",value:"no_validation"}).appendTo(this).closest("form"),$(this).closest("form").submit()}),$(".full-container.resume, .container.resume-mobile")[0]&&($("span#new-user-modal-trigger")[0]&&$("#modal-new-user").openModal(),$("a.input-resume").click(function(){$(this).next("form").submit()}),$("span#new-user-from-apply-modal-trigger")[0]&&$("#modal-new-user-from-apply").openModal(),$("a.close-modal").click(function(){$("#modal-new-user").closeModal(),$("#modal-new-user-from-apply").closeModal()}),$("#modal-for-add-career a.post-cancel").click(function(){$("#modal-for-add-career").closeModal()}),$("#modal-select-detail-occupations")[0]&&$("#modal-select-detail-occupations").openModal({dismissible:!1,opacity:.8})),$(".full-container.resume, .container.resume-mobile")[0]&&$(function(){Main()}),window.fbAsyncInit=function(){FB.init({appId:"1412068989120518",xfbml:!0,version:"v2.4"}),FB.getLoginStatus(function(e){})},function(e,t,a){var i,n=e.getElementsByTagName(t)[0];e.getElementById(a)||(i=e.createElement(t),i.id=a,i.src="//connect.facebook.net/en_US/sdk.js",n.parentNode.insertBefore(i,n))}(document,"script","facebook-jssdk"),$("a.send-dialog-by-facebook").click(function(){if(!confirm("認証を受けた後は経歴内容を編集できなくなります。この内容で認証を依頼してよろしいですか？（OKを押すとFacebookメッセージ送信画面にジャンプします）"))return!1;var e=JSON.parse($(this).closest(".feedback-area").find(".career-token").attr("data-token")),t="&link=http://"+location.host+"/resume/certificate-career/"+e,a="&redirect_uri=http://"+location.host+"/resume/"+e;window.open("https://www.facebook.com/v2.4/dialog/send?app_id=1412068989120518&display=popup&e2e=%7B%7D"+t+a)}),$("button.email-feedback-btn").click(function(){if(!confirm("認証を受けた後は経歴内容を編集できなくなります。この内容で認証を依頼してよろしいですか？"))return!1;var e=JSON.parse($(this).closest("form.send-certificate-url").find(".career-token").attr("data-token"));$("<input>").attr({type:"hidden",name:"token",value:e}).appendTo(this).parents("form.send-certificate-url"),$("<input>").attr({type:"hidden",name:"url_for_certification",value:"http://"+location.host+"/resume/certificate-career/"+e}).appendTo(this).parents("form.send-certificate-url"),$(this).parents("form.send-certificate-url").submit()}),$(".container-wrapper.student-register-form, .container.resume-profile")[0]&&($("#motivation-modals")[0]&&($.cookie("frequency")||$.cookie("reasons")||$("#motivation-modals").openModal({dismissible:!1,opacity:.8})),$("#save-frequency-period").click(function(){$.cookie("frequency",$("select#frequency-on-modal").val()),$.cookie("period",$("select#period-on-modal").val()),$("#motivation-modals").closeModal()}),$("#save-no-enthusiasm-reason").click(function(){var e=$("[name=no_enthusiasm_reason]:checked").map(function(){return $(this).val()}).get(),t=JSON.stringify(e);$.cookie("reasons",t),$.cookie("other_reasons",$("input[name=other_reasons]").val()),$("#motivation-modals").closeModal()}),$("form[name=register_form], form[name=register_intern_motivation]").submit(function(){$("<input>").attr({type:"hidden",name:"enthusiasm",value:$.cookie("enthusiasm")}).appendTo(this),$("<input>").attr({type:"hidden",name:"frequency",value:$.cookie("frequency")}).appendTo(this),$("<input>").attr({type:"hidden",name:"period",value:$.cookie("period")}).appendTo(this),$("<input>").attr({type:"hidden",name:"reasons",value:$.cookie("reasons")}).appendTo(this),$("<input>").attr({type:"hidden",name:"other_reasons",value:$.cookie("other_reasons")}).appendTo(this)})),$(".student-register-form")[0]&&($("select.browser-default").on("change",function(){var e=$(this).find("option:selected");$(this).prev(".select-browser-default-label").text(e.text()),$this.blur()}),$(".left-label").click(function(){$(this).addClass("selected"),$(this).closest(".radio-wrapper").find(".right-label").removeClass("selected"),$(this).closest(".row").find(".show-only-yes").show()}),$(".right-label").click(function(){$(this).addClass("selected"),$(this).closest(".radio-wrapper").find(".left-label").removeClass("selected"),$(this).hasClass("not-hide")||$(this).closest(".row").find(".show-only-yes").hide()}),$(".left-label").hasClass("selected")&&$(".left-label.selected").closest(".row").find(".show-only-yes").show(),$("label.ongoing").click(function(){$(this).next("input.right-label.ympicker-until-this-date").val("")}),$(".ympicker-until-this-date").datepicker({autoclose:!0,language:"ja",minViewMode:1,format:"yyyy-mmまでやっていました"}),$("img.choose-file").click(function(){$(this).prev("input.profile-image").click()}),$(document).ready(function(){$.getJSON("/data/skills.json",function(e){$("#programming-skill-tag").tagit({fieldName:"programming_skill[]",caseSensitive:!1,availableTags:e.skills})}),$.getJSON("/data/skills.json",function(e){$("#design-skill-tag").tagit({fieldName:"design_skill[]",caseSensitive:!1,availableTags:e.skills})})}),$(".design-yes-label").click(function(){$("#design-skill-tag input:first-child").attr("placeholder","情報デザイン / Illustrator など")}));var Validator=function(){var e=[];this.isEmpty=function(t,a){var i=$(t).val();return""==i||null==i?(e.push(a),this.addBBRed(t)):this.removeBBRed(t),this},this.isEmail=function(t,a){var i=$(t).val();return""==i||null==i?(e.push("メールアドレスが未入力です"),this.addBBRed(t)):$(t).val().match(/.+@.+\..+/g)?this.removeBBRed(t):(e.push("メールアドレスが有効ではありません"),this.addBBRed(t)),this},this.isPassword=function(t){var a=$(t).val();return 0==$("#password").length?this:(""==a||null==a?(e.push("パスワードが未入力です"),this.addBBRed(t)):a.length<8?(e.push("パスワードは8文字以上の半角英数記号で入力してください"),this.addBBRed(t)):this.removeBBRed(t),this)},this.isPasswordConfirmation=function(t){var a=$(t).val();return 0==$("#password-confirmation").length?this:(""==a||null==a?(e.push("パスワード(再)が未入力です"),this.addBBRed(t)):a!=$("#password").val()?(e.push("パスワード(再)が一致しません"),this.addBBRed(t)):a.length<8?(e.push("パスワードは8文字以上の半角英数記号で入力してください"),this.addBBRed(t)):this.removeBBRed(t),this)},this.isSelect=function(t,a,i){var n=$(t).val();return""==n||null==n?(e.push(i),this.addBBRed($(a).children().children(".select-dropdown"))):this.removeBBRed($(a).children().children(".select-dropdown")),this},this.isRadio=function(t,a){var i=$(t).children(":radio:checked").val(),n=$(t).children("label");return""==i||null==i?(e.push(a),this.addBBRed(n)):this.removeBBRed(n),this},this.isChildEmpty=function(t,a,i){var n=$(t).val();return"no"==$(a).val()||""==$(a).val()||null==$(a).val()?this:(""==n||null==n||"点"==n?(e.push(i),this.addBBRed(t)):this.removeBBRed(t),this)},this.isChildEndDate=function(t,a,i){var n=$(t).children().hasClass("selected");return"no"==$(a).val()||""==$(a).val()||null==$(a).val()?this:(n?(this.removeBBRed($(t).children("input.form-control")),this.removeBBRed($(t).children("label"))):(e.push(i),this.addBBRed($(t).children("input.form-control")),this.addBBRed($(t).children("label"))),this)},this.isChildSelect=function(t,a,i,n){var o=$(t).val();return"no"==$(a).val()||""==$(a).val()||null==$(a).val()?this:(""==o||null==o?(e.push(n),this.addBBRed($(i).children().children(".select-dropdown"))):this.removeBBRed($(i).children().children(".select-dropdown")),this)},this.isChildRadio=function(t,a,i){var n=$(t).children(":radio:checked").val(),o=$(t).children("label");return"no"==$(a).val()||""==$(a).val()||null==$(a).val()?this:(""==n||null==n?(e.push(i),this.addBBRed(o)):this.removeBBRed(o),this)},this.isChildTag=function(t,a,i){var n=$(t).children().length;return"no"==$(a).val()||""==$(a).val()||null==$(a).val()?this:(1==n?(e.push(i),this.addBBRed(t)):this.removeBBRed(t),this)},this.addBBRed=function(e){$(e).addClass("alert--border-bottom")},this.removeBBRed=function(e){return $(e).removeClass("alert--border-bottom"),this},this.returnErrors=function(){return e},this.showErrors=function(){for(var t="",a=0,i=e.length;i>a;a++)t=t+"<li>"+e[a]+"<li>";var n='<div class="alert alert-danger"><ul>'+t+"</ul></div>";$("#errorMsg").html(n),$("html,body").animate({scrollTop:$(".container-wrapper").offset().top})}};$(function(){$("#submitBtn").click(function(){var e=new Validator,t=e.isEmpty($("#name"),"名前が未入力です").isEmail($("#email")).isPassword($("#password")).isPasswordConfirmation($("#password-confirmation")).isEmpty($("#phone-number"),"電話番号が未入力です").isRadio($("#radio_sex"),"性別が選択されていません").isEmpty($("#school"),"大学が未入力です").isEmpty($("#faculty"),"学部・学科が未入力です").isSelect($("#year"),$("#year_wrapper"),"学年が選択されていません").isEmpty($("#education-start-date"),"入学年が未入力です").isEmpty($("#education-end-date"),"卒業年が未入力です").isRadio($("#radio_line"),"LINEへのインターン情報配信の有無が選択されていません").isChildEmpty($("#line-id"),$(':radio[name="line"]:checked'),"LINEのIDが未入力です").returnErrors();0!=t.length?e.showErrors():($("#errorMsg").html(""),$("form[name=register_form]").submit())})});